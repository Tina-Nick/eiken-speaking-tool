<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>英検スピーキング練習ツール</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    select, button {
      margin: 5px;
      padding: 8px;
      font-size: 16px;
    }
    .question {
      font-weight: bold;
      margin-top: 20px;
    }
    .translation, .answer {
      margin-top: 10px;
    }
    .label {
      font-weight: bold;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <h1>英検スピーキング練習ツール</h1>

  <label for="grade">級を選んでください：</label>
  <select id="grade">
    <option value="grade3">英検3級</option>
    <option value="gradePre2">英検準2級</option>
  </select>

  <label for="questionType">質問タイプ：</label>
  <select id="questionType">
    <option value="question1">質問①（Yes/No）</option>
    <option value="question2">質問②（意見を述べる）</option>
  </select>

  <button onclick="showQuestion()">お題を表示</button>
  <div class="question" id="question"></div>
  <button onclick="toggleTranslation()">和訳を表示 / 非表示</button>
  <div class="translation" id="translation" style="display:none;"></div>
  <button onclick="toggleAnswer()">模範解答を表示 / 非表示</button>
  <div class="answer" id="answer" style="display:none;"></div>

  <script>
    const grade3_questions = [
      {
        q: "Do you like animals?",
        ja: "あなたは動物が好きですか？",
        a: {
          yes: "Yes, I like animals. They are cute and fun to watch. I enjoy going to the zoo with my family.",
          no: "No, I don't like animals. Some animals scare me, and I prefer quiet places without them."
        }
      }
    ];

    const grade3_wh_questions = [
      {
        q: "Some people say that reading books is better than watching TV. Do you think so?",
        ja: "読書はテレビを見るよりも良いと言う人がいます。あなたはそう思いますか？",
        a: {
          yes: "Yes, I think so. Reading books helps us learn new words and use our imagination. Also, books don’t have commercials, so we can focus better.",
          no: "No, I don't think so. TV shows can teach us many things with pictures and sound. Also, it’s more relaxing after a long day."
        }
      }
    ];

    const gradePre2_questions = [
      {
        q: "Do you think students should do homework every day?",
        ja: "生徒は毎日宿題をすべきだと思いますか？",
        a: {
          yes: "Yes, I think so. Doing homework helps students review what they learned. It also builds good study habits.",
          no: "No, I don't think so. Too much homework can make students tired. They need time to play and rest, too."
        }
      }
    ];

    const gradePre2_wh_questions = [
      {
        q: "Some people say that it's better to study with friends than to study alone. Do you agree?",
        ja: "友達と一緒に勉強する方が、一人で勉強するよりも良いと言う人がいます。あなたはそう思いますか？",
        a: {
          yes: "Yes, I agree. Studying with friends helps us understand difficult things by talking. Also, it makes studying more fun.",
          no: "No, I don't agree. Studying alone helps me concentrate. Also, I can study at my own pace."
        }
      }
    ];

    function getCurrentQuestionList() {
      const grade = document.getElementById("grade").value;
      const questionType = document.getElementById("questionType").value;

      if (grade === "grade3" && questionType === "question1") return grade3_questions;
      if (grade === "grade3" && questionType === "question2") return grade3_wh_questions;
      if (grade === "gradePre2" && questionType === "question1") return gradePre2_questions;
      if (grade === "gradePre2" && questionType === "question2") return gradePre2_wh_questions;

      return [];
    }

    function showQuestion() {
      const questionList = getCurrentQuestionList();
      const random = Math.floor(Math.random() * questionList.length);
      const item = questionList[random];

      document.getElementById("question").textContent = item.q;
      document.getElementById("translation").textContent = item.ja;

      const answerContent = typeof item.a === "string"
        ? item.a
        : `Yes: ${item.a.yes}<br><br>No: ${item.a.no}`;

      document.getElementById("answer").innerHTML = answerContent;
      document.getElementById("translation").style.display = "none";
      document.getElementById("answer").style.display = "none";
    }

    function toggleTranslation() {
      const elem = document.getElementById("translation");
      elem.style.display = elem.style.display === "none" ? "block" : "none";
    }

    function toggleAnswer() {
      const elem = document.getElementById("answer");
      elem.style.display = elem.style.display === "none" ? "block" : "none";
    }
  </script>
</body>
</html>
